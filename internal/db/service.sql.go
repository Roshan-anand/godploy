// Code generated by sqlc. DO NOT EDIT.
// versions:
//   sqlc v1.30.0
// source: service.sql

package db

import (
	"context"
	"database/sql"
)

const createPsqlService = `-- name: CreatePsqlService :one
INSERT INTO psql_service (psql_id,project_id, name, app_name, description, db_name, db_user, db_password, image, internal_url)
VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
RETURNING psql_id, project_id, serviceid, name, app_name, description, db_name, db_user, db_password, image, internal_url, created_at
`

type CreatePsqlServiceParams struct {
	PsqlID      string `json:"psql_id"`
	ProjectID   string `json:"project_id"`
	Name        string `json:"name"`
	AppName     string `json:"app_name"`
	Description string `json:"description"`
	DbName      string `json:"db_name"`
	DbUser      string `json:"db_user"`
	DbPassword  string `json:"db_password"`
	Image       string `json:"image"`
	InternalUrl string `json:"internal_url"`
}

func (q *Queries) CreatePsqlService(ctx context.Context, arg CreatePsqlServiceParams) (PsqlService, error) {
	row := q.db.QueryRowContext(ctx, createPsqlService,
		arg.PsqlID,
		arg.ProjectID,
		arg.Name,
		arg.AppName,
		arg.Description,
		arg.DbName,
		arg.DbUser,
		arg.DbPassword,
		arg.Image,
		arg.InternalUrl,
	)
	var i PsqlService
	err := row.Scan(
		&i.PsqlID,
		&i.ProjectID,
		&i.Serviceid,
		&i.Name,
		&i.AppName,
		&i.Description,
		&i.DbName,
		&i.DbUser,
		&i.DbPassword,
		&i.Image,
		&i.InternalUrl,
		&i.CreatedAt,
	)
	return i, err
}

const deletePsqlService = `-- name: DeletePsqlService :exec
DELETE FROM psql_service
WHERE psql_id = ?
`

func (q *Queries) DeletePsqlService(ctx context.Context, psqlID string) error {
	_, err := q.db.ExecContext(ctx, deletePsqlService, psqlID)
	return err
}

const getPsqlServiceById = `-- name: GetPsqlServiceById :one
SELECT psql_id, project_id, serviceid, name, app_name, description, db_name, db_user, db_password, image, internal_url, created_at
FROM psql_service
WHERE psql_id = ?
`

func (q *Queries) GetPsqlServiceById(ctx context.Context, psqlID string) (PsqlService, error) {
	row := q.db.QueryRowContext(ctx, getPsqlServiceById, psqlID)
	var i PsqlService
	err := row.Scan(
		&i.PsqlID,
		&i.ProjectID,
		&i.Serviceid,
		&i.Name,
		&i.AppName,
		&i.Description,
		&i.DbName,
		&i.DbUser,
		&i.DbPassword,
		&i.Image,
		&i.InternalUrl,
		&i.CreatedAt,
	)
	return i, err
}

const setPsqlServiceId = `-- name: SetPsqlServiceId :exec
UPDATE psql_service
SET serviceid = ?
WHERE psql_id = ?
`

type SetPsqlServiceIdParams struct {
	Serviceid sql.NullString `json:"serviceid"`
	PsqlID    string         `json:"psql_id"`
}

func (q *Queries) SetPsqlServiceId(ctx context.Context, arg SetPsqlServiceIdParams) error {
	_, err := q.db.ExecContext(ctx, setPsqlServiceId, arg.Serviceid, arg.PsqlID)
	return err
}
